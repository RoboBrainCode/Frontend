<div class="jumbotron">
<div class="container-fluid">
   
  <h3 class="text-center">Enter your RaQuel code below:</h3>
  <br>

      <label>Saved Scripts:</label>
      <select class="form-control" id="sel2">
        <option>Example 1</option>
        <option>Example 2</option>
        <option>Example 3</option>
        <option>Example 4</option>
      </select>
    <button type="button" class="btn btn-link" onclick="myFunction()" style="font-size:14px font-weight:bold; outline:0">Show</button>

  
  <textarea class="form-control" style="width: 100%; border:none; color:#009900" rows="5" placeholder="Enter Code Here" id="demo" autofocus></textarea>
  <div class="form-group">        
        <button type="submit" class="btn btn-link" onclick="execute()" id="searchid" style="font-size:14px font-weight:bold; outline:0">Execute</button>    
    </div>
     <div id="drope_box" style="display:none;">
  <textarea style="width: 100%; border:none;"rows="2" placeholder="Result Shown Here" id="result"></textarea>
</div>
</div>

  </div>

<script type="text/javascript">
function myFunction() {
    var x=document.getElementById("sel2").value;
    var y=x.split(" ")
    if(y[1]=="1"){
    document.getElementById("demo").value="fetch(\"({handle:'wall'})-[\e:`HAS_MATERIAL`]->(b)\")";
  }
    else if(y[1]=="2"){
    document.getElementById("demo").value="path = fetch(\"(\{handle:'sitting_human'})-[e*1..3]->({handle:'cup'})\")\nSortBy(\paths,'Belief')";
  }
    else if(y[1]=="3"){
    document.getElementById("demo").value="objects = fetch(\"(\{handle:'sitting_human'})-[:`CAN_USE`]->(v)\")\naffordance = lambda n: fetch\(\"{handle :'\" + n + \"'}) - [:`HasAffordance` ] -> (v)\")\niter = imap(\ lambda u: affordances(u) ,objects)\niter.next()";
  }
    else if(y[1]=="4"){
    document.getElementById("demo").value="paths = fetch(\"({handle:'sitting_human'})-[e*1..3]->({handle:'cup'})\")\niter = ifilter(\ lambda u: Belief(u)  > 0.5 ,paths)\niter.next()";
  }
}
function execute(){
  var str= document.getElementById("demo").value;
  var res= str.split(" ");
  if(res[1]=="ADD")
  document.getElementById("result").innerHTML="The result is: " + (parseInt(res[2])+ parseInt(res[4]));
  else if(res[1]=="SUBTRACT")
  document.getElementById("result").innerHTML="The result is: " + (parseInt(res[2])-parseInt(res[4]));
  else if(res[1]=="MULTIPLY")
  document.getElementById("result").innerHTML="The result is: " + (parseInt(res[2])*parseInt(res[4]));
  else if(res[1]=="DIVIDE")
  document.getElementById("result").innerHTML="The result is: " + (parseInt(res[2])/parseInt(res[4]));
  else if(res[1]=="MODULUS")
  document.getElementById("result").innerHTML="The result is: " + (parseInt(res[2])%parseInt(res[4]));
}
</script>

<script type="text/javascript">
$('#searchid').blur(function() {
   if($(this).val() != ""){
        $("#drope_box").show();    
    }
    else{
        $("#drope_box").hide(); 
    }
});

 $('#searchid').focus(function() {
    $("#drope_box").show();
 });

</script>

<div class="page-header">
    <h2 class="text-center">RaQuel <small>API Documentation</small></h1>
</div>

        <p>Currently, RaQuel supports the following functions:</p>
        
        <p class="fetch">1. FETCH</p>
        <div class="panel1">
        <p>The fetch function is used to retrieve a sub-graph of RoboBrain that matches an input pattern.
          <code>fetch: Pattern(arg<sub>1</sub>,arg<sub>2</sub>,...)</code> returns a list of tuples with instantiated values of variables <code>->[(arg<sub>1</sub><sup>(i)</sup>,arg<sub>1</sub><sup>(i)</sup>,...)]<sub>i<sub></code>. 
          This pattern is matched against sub-graphs of RoboBrain and these matched sub-graphs are used to create initialized entries for the pattern variables.<br>
          For example, to retrieve all nodes and edges with label 'HAS_MATERIAL' connected to nodes with handle "wall":
        </p>
        <blockquote>
          >>> fetch("({handle:'wall'})-[e:`HAS_MATERIAL`]->(b)")
        </blockquote>
        <p>
          The pattern will match against paths of length one {u, e, v}; where node
          u has handle "wall" and edge e has label 'HAS_MATERIAL'.
        </p>
        </div>
        <p class="sort">2. SORT BY</p>
        <div class="panel2">
        <p>The sort by function is used to sort a list of nodes or relationships with a given key.</p>
        </div>
        <p class="len">3. LEN</p>
        <div class="panel3">
        <p>The len function is used to find the length of the list of nodes or edges.</p>
        </div>
        <p class="map">4. MAP</p>
        <div class="panel4">
        <p>The map function calls a function on a specific set of values.</p>
        </div>
        <p class="filter">5. FILTER</p>
        <div class="panel5">
        <p>The filter function returns a sequence which consistes a set of items for which a function is true on a specific set of values.</p>
        </div>


<br>

<script type="text/javascript">
  $(document).ready(function() {
    $(".fetch").click(function() {
      $(".panel1").slideToggle("slow");
    });
  });
  $(document).ready(function() {
    $(".sort").click(function() {
      $(".panel2").slideToggle("slow");
    });
  });
  $(document).ready(function() {
    $(".len").click(function() {
      $(".panel3").slideToggle("slow");
    });
  });
  $(document).ready(function() {
    $(".map").click(function() {
      $(".panel4").slideToggle("slow");
    });
  });
  $(document).ready(function() {
    $(".filter").click(function() {
      $(".panel5").slideToggle("slow");
    });
  });
</script>

 

 <style type="text/css">
p.fetch,p.sort,p.len,p.map,p.filter{
  margin: 0px;
  padding: 5px;
  background: #eee;
  border: solid 1px #fff;
}
 
div.panel1,div.panel2,div.panel3,div.panel4,div.panel5 {
  widht: 50%;
  height: 180px;
  display: none;
   margin: 0px;
  padding: 5px;
  border: solid 1px #fff;
}
</style>